---
# AmbiHue Configuration
#
# AUTO-SETUP: If IP addresses are set to "replace_me" or "192.168.1.X",
# AmbiHue will auto-discover devices on startup. Press the Hue Bridge
# button before starting.
#
# SEE README.md and DOCS.md for more details

ambilight_tv:
  protocol: "https://"    # "http://" or "https://"
  ip: "192.168.1.X"       # TV IP (or leave as placeholder for auto-discovery)
  port: 1926              # 1925 for HTTP, 1926 for HTTPS
  api_version: 6          # API version: 1, 5, or 6
  path: "ambilight/processed"

  # Android TV Authentication (auto-filled after pairing)
  user: ""                # Leave empty for auto-setup
  password: ""            # Leave empty for auto-setup
  pairing_pin: ""         # Enter PIN from TV screen for Android TV pairing

  # CONFIGURATION MODES:
  #
  # Mode 1: Polling Mode (Default)
  #   - Add-on monitors TV itself and exits if TV doesn't respond
  #   - Use if you want add-on to auto-restart on TV power cycles
  wait_for_startup_s: 29          # Wait 29s for TV at startup, then exit
  runtime_error_threshold: 10     # Exit after 10 consecutive TV errors

  # Mode 2: Automation Mode (For Home Assistant Integration)
  #   - Set both to 0 to wait indefinitely for TV
  #   - Create HA automations to start/stop add-on based on TV state
  #   - See DOCS.md for automation setup guide
  # wait_for_startup_s: 0         # Wait indefinitely for TV
  # runtime_error_threshold: 0    # Never exit on TV offline

  power_on_time_s: 8              # Grace period for TV boot
  refresh_rate_ms: 50             # Update rate when syncing (10-50ms recommended)
  idle_refresh_rate_ms: 5000      # Poll rate when TV idle (1000-5000ms)

hue_entertainment_group:
  # Auto-filled after pressing Bridge button and starting AmbiHue
  # Or use --discover_hue for manual discovery
  _identification: "replace_me"
  _rid: "replace_me"
  _ip_address: "replace_me"
  _swversion: 1972004020
  _username: "replace_me"
  _hue_app_id: "replace_me"
  _client_key: "replace_me"
  _name: "Hue Bridge"
  index: 0  # Entertainment Area index (0 = first area)

lights_setup:
  # Map your Hue lights to TV Ambilight zones
  # Check add-on logs after Hue pairing to see light IDs
  #
  # Format: name -> {id: light_index, positions: [ambilight_zones]}
  #
  # Ambilight zone map (0-16):
  #   [4]0T [5]1T [6]2T [7]3T [8]4T [9]5T [10]6T [11]7T [12]8T
  #   [3]3L                                              [13]0R
  #   [2]2L                                              [14]1R
  #   [1]1L                                              [15]2R
  #   [0]0L                                              [16]3R

  sofa_behind:
    id: 0              # Light index from Entertainment Area
    positions: [0, 1]  # Ambilight zones to average
  go_up:
    id: 1
    positions: [2, 3]
  # Add more lights as needed:
  # right_wall:
  #   id: 2
  #   positions: [12, 13]
  # left_wall:
  #   id: 3
  #   positions: [3, 4]
